{"remainingRequest":"E:\\1msj\\msj\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\1msj\\msj\\src\\components\\pages\\Cation.vue?vue&type=style&index=0&id=a0567a66&scoped=true&lang=css&","dependencies":[{"path":"E:\\1msj\\msj\\src\\components\\pages\\Cation.vue","mtime":1564658967668},{"path":"E:\\1msj\\msj\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\1msj\\msj\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\1msj\\msj\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\1msj\\msj\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\1msj\\msj\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.base_sou{\r\nposition: absolute;\r\n top: 9.2rem;\r\n left: 1.3rem;\r\n}\r\n.sear{\r\n  width: 2rem;\r\n  height: 2rem;\r\n  border: 1px solid red;\r\n  position: relative;\r\n  top: 1rem;\r\n  left: 1rem;\r\n  z-index: 100;\r\n}\r\n.en_yu>span:nth-child(1){\r\n  color: #000;\r\n} \r\n.scg{\r\n  background: #fff;\r\n}\r\n/* 搜索框 */\r\n.base{\r\n overflow: hidden;\r\n overflow-y: auto;\r\n}\r\n.lan_shu{\r\n  width: 100%;\r\n  height: 4rem;\r\n  background: #000;\r\n}\r\n .lan_cty{\r\n  position: relative;\r\n  top: 1rem;\r\n }\r\n/* 上部导航栏 */\r\n .su_tb{\r\n  width: 93%;\r\n  height: 3.3rem;\r\n  background: #000;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-radius: 0.4rem;\r\n  margin: 0.5rem auto 0 auto;\r\n  position: relative;\r\n  z-index: 10;\r\n }\r\n .hai{\r\n  color: #fff;\r\n  line-height: 3.5rem;\r\n  font-size: 0.91rem;\r\n  display: inline-block;\r\n }\r\n .su_hai{\r\n   margin-left: 1.5rem;\r\n } \r\n .su_imag{\r\n  width: 1rem;\r\n  height: 0.52rem; \r\n  margin-left: 0.5rem;\r\n }\r\n .su_xin{\r\n   width: 40%;\r\n }\r\n .hove_stf{\r\n  width: 5rem;\r\n  background-color:#000;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  position: absolute;\r\n  top: 3.2rem;\r\n  left: 3rem;\r\n  transition: all .2s linear;\r\n }\r\n .hove_stf>p{\r\n  margin: 1rem 0.3rem 0 0.7rem; \r\n  font-size: 0.91rem;\r\n  color: #fff;\r\n }\r\n .ctmd{\r\n   height:10rem;\r\n   overflow: hidden;\r\n   \r\n }\r\n .show{\r\n   height: 0;\r\n   overflow: hidden;\r\n   \r\n }\r\n .qn_img{\r\n  width: 0.65rem;\r\n  height: 0.75rem;\r\n  margin-right: 0.5rem;\r\n }\r\n .qn_you{\r\n  width: 28%; \r\n }\r\n/* 分类 */\r\n.en_yu{\r\n  width: 100%;\r\n  height: 3rem;\r\n  border-bottom: 0.02rem solid #e2e2e2;\r\n}\r\n.en_yu>span{\r\n  display: inline-block;\r\n  font-size: 0.91rem;\r\n  color: #999;\r\n  margin: 1.5rem 0.2rem 0 1rem;\r\n}\r\n.en_ctu{\r\n  width: 93%;\r\n  height: 6rem;\r\n  border-bottom: 0.02rem solid #e2e2e2;\r\n  margin: auto;\r\n  position: relative;\r\n}\r\n.en_img1{\r\n  height: 4rem; \r\n  margin-top: 1rem;\r\n}\r\n.en_heng{\r\n  position: absolute;\r\n  top: 1.5rem;\r\n  left: 5rem;\r\n}\r\n.en_ao{\r\n  font-size: 0.91rem; \r\n   \r\n}\r\n.gao{\r\n margin-bottom: 0.6rem; \r\n}\r\n.en_gao{\r\n  font-size: 0.6rem;\r\n  color: #a3a3a3;\r\n}\r\n.en_qian{\r\n  font-size: 0.8rem;\r\n  color: #f97a2e;\r\n}\r\n.en_img2{\r\n  width: 1.2rem;\r\n}\r\n.en_zong{\r\n  position: absolute;\r\n  top: 2rem;\r\n  right: 1.2rem;\r\n  width: 4.5rem;\r\n  height: 2.2rem;\r\n  border-radius:5rem;\r\n  background: #f3f3f3;\r\n  text-align: center;\r\n  line-height: 2.5rem;\r\n\r\n} \r\n",{"version":3,"sources":["Cation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Cation.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\r\n  <div class=\"scg\">\r\n    <div class=\"lan_shu\">\r\n       <search class=\"lan_cty\" @seat=\"search\"></search>\r\n    </div>  \r\n    <!-- 上部导航栏 -->\r\n    <div class=\"su_tb\">\r\n      <div class=\"su_xin\">\r\n        <span class=\"su_hai hai\">海鲜水产</span>\r\n        <img src=\"../../assets/images/fen-2.png\" alt=\"\" class=\"su_imag\" @click=\"su_hove\">\r\n        <div class=\"hove_stf\" :class=\"{'show':flag,'ctmd':!flag}\" >\r\n          <table></table>\r\n          <p v-for=\"(list,i) of p1\" :key=\"i\" v-text=\"list.z_uname\" @click=\"ba_cn(list.z_uid)\"></p>\r\n        </div>\r\n      </div>\r\n      <div class=\"qn_you\">\r\n        <img src=\"../../assets/images/fen-1.png\" alt=\"\" class=\"qn_img\">\r\n        <span class=\"hai\">千库超市</span>\r\n      </div> \r\n    </div>\r\n   <!-- 分类 -->\r\n    <div class=\"en_yu\">  \r\n        <span :style=\"{'color': active==list.z_pid?'#000':'#999'}\" v-for=\"(list,i) of p2\" :key=\"i\" v-text=\"list.z_pname\" @click=\"si_su(list.z_pid)\"></span>\r\n        <p class=\"base_sou\" v-text=\"pg.z_uname\"></p>\r\n    </div>\r\n    <div class=\"base\" :style=\"height\">\r\n      <div class=\"en_ctu\" v-for=\"(elem,i) of pt\" :key=\"i\">\r\n      <img :src=\"elem.z_pic\" class=\"en_img1\" @click=\"kou_yu(elem)\">\r\n        <div class=\"en_heng\">\r\n        <p class=\"en_ao gao\" v-text=\"elem.z_ftitle\"></p>\r\n        <p class=\"en_gao gao\" v-text=\"elem.z_fname\"></p>\r\n        <p class=\"en_qian\" v-text=\"`￥${elem.z_price.toFixed(2)}`\"></p>\r\n      </div>\r\n      <div class=\"en_zong\">\r\n        <img src=\"../../assets/images/fen-3.png\" alt=\"\" class=\"en_img2\" @click=\"gou_wu(elem)\">\r\n      </div> \r\n    </div>\r\n    </div>  \r\n  </div> \r\n</template>\r\n<script>\r\nimport search from '../Search';\r\nimport Vue from \"vue\";\r\nimport { Toast } from 'vant';\r\nVue.use(Toast);\r\nexport default {\r\n    components: {\r\n    \"search\":search\r\n  },\r\n  \r\n  data(){  \r\n    return {\r\n      isTrue:false,\r\n      flag:true,\r\n      p1:[],\r\n      p2:[],\r\n      pg:[],\r\n      active:{},\r\n      pt:[],\r\n      height:{\r\n         height:'',\r\n      },  \r\n      context:'',   \r\n    } \r\n  },\r\n   \r\n  destroyed(){\r\n     this.pt = null;\r\n    this.$store.commit('setDate',[])\r\n  },\r\n  created (){\r\n    this.hh();  \r\n    if(this.pt.length  == 0 && this.$store.getters.searchData.length == 0 ){\r\n      var url=\"http://127.0.0.1:3000/cation/base?z_uid=\"+1;\r\n      this.axios.get(url).then(output=>{\r\n      this.p2=output.data.specs;\r\n      this.pt=output.data.pics;\r\n      this.active=output.data.specs[0].z_pid;\r\n    })\r\n    }else{\r\n      this.pt=this.$store.getters.searchData;\r\n      this.yu=this.pt[0].z_type;\r\n      var url=\"http://127.0.0.1:3000/cation/type?z_uid=\"+this.yu;\r\n      this.axios.get(url).then(result=>{\r\n        this.pg=result.data[0];\r\n        console.log(this.pg);\r\n      })\r\n    }\r\n   \r\n    //默认事件  商品列表\r\n    //默认事件  下拉列表\r\n    var url=\"http://127.0.0.1:3000/cation/sata\";\r\n     this.axios.get(url).then(result=>{\r\n       this.p1=result.data;   \r\n    })\r\n  },\r\n  methods:{\r\n  search:function(pt){\r\n    this.pt=pt;\r\n  },\r\n    //动态获取浏览器的高\r\n    hh(){\r\n     this.height.height=(window.innerHeight)/23.9+\"rem\";\r\n    },\r\n    //点击事件 下拉列表显示隐藏\r\n    su_hove:function(){\r\n      this.flag=!this.flag;\r\n    },\r\n    //点击事件 下拉列表+分类列表+商品列表\r\n   ba_cn:function(id){\r\n     this.flag=!this.flag;      \r\n     var url=\"http://127.0.0.1:3000/cation/base?z_uid=\"+id;\r\n      this.axios.get(url).then(output=>{\r\n      this.p2=output.data.specs;\r\n      this.pt=output.data.pics;\r\n      this.active=output.data.specs[0].z_pid; \r\n     })   \r\n   },\r\n  \r\n   //点击事件 商品列表\r\n   si_su:function(id){\r\n    this.active=id;\r\n     var url=\"http://127.0.0.1:3000/cation/fen?l_id=\"+id;\r\n     this.axios.get(url).then(result=>{\r\n       this.pt=result.data; \r\n     })    \r\n   },\r\n   //点击事件 向详情页传递数据\r\n   kou_yu:function(elem){\r\n     console.log(elem)\r\n    this.$store.commit('increment',elem);\r\n\r\n     this.$router.push('/footpson1'); \r\n   },\r\n   //点击事件 向购物车插入数据\r\n gou_wu:function(elem){\r\n     this.f1=elem.z_fid;\r\n     this.f2=elem.z_fname;\r\n     this.f3=elem.z_ftitle;\r\n     this.f4=elem.z_pic;\r\n     this.f5=elem.z_price;\r\n     var uid=1;\r\n     var count=1;\r\n     var ch=1;\r\n     //查询购物车数据库 判断商品是否已存在\r\n  var url=\"http://127.0.0.1:3000/cation/stater?x_product_id=\"+this.f1;\r\n  this.axios.get(url).then(result=>{\r\n    this.lg=result.data.x_count;\r\n    this.ld=result.data.x_id;\r\n    if(result.data.x_product_id>0){\r\n      //商品已存在\r\n      this.lg++;\r\n        //console.log(v);\r\n      var url=\"http://127.0.0.1:3000/cation/upse?x_id=\"+this.ld+\"&x_count=\"+this.lg;\r\n      //console.log(url);\r\n      this.axios.get(url).then(result=>{   \r\n      })\r\n      Toast.success({\r\n        message:\"添加成功\",\r\n        duration:1000\r\n      })\r\n       \r\n    }else{\r\n      //商品没有存在 插入数据\r\n      var url=\"http://127.0.0.1:3000/cation/catr?x_uid=\"+uid+\"&x_product_id=\"+this.f1+\"&x_img_url=\"+this.f4+\"&x_title=\"+this.f3+\"&x_name=\"+this.f2+\"&x_price=\"+this.f5+\"&x_count=\"+count+\"&x_is_checked=\"+ch;\r\n        this.axios.get(url).then(result=>{ \r\n            if(result.data.affectedRows==1){\r\n              Toast.success({\r\n                message:\"添加成功\",\r\n                duration:1000,   \r\n              });\r\n            }else{\r\n              Toast.fail({\r\n                message:\"添加失败\",\r\n                duration:1000,\r\n              });\r\n            }    \r\n        }) \r\n      }\r\n   })       \r\n  } \r\n }, \r\n}\r\n</script>\r\n<style scoped>\r\n.base_sou{\r\nposition: absolute;\r\n top: 9.2rem;\r\n left: 1.3rem;\r\n}\r\n.sear{\r\n  width: 2rem;\r\n  height: 2rem;\r\n  border: 1px solid red;\r\n  position: relative;\r\n  top: 1rem;\r\n  left: 1rem;\r\n  z-index: 100;\r\n}\r\n.en_yu>span:nth-child(1){\r\n  color: #000;\r\n} \r\n.scg{\r\n  background: #fff;\r\n}\r\n/* 搜索框 */\r\n.base{\r\n overflow: hidden;\r\n overflow-y: auto;\r\n}\r\n.lan_shu{\r\n  width: 100%;\r\n  height: 4rem;\r\n  background: #000;\r\n}\r\n .lan_cty{\r\n  position: relative;\r\n  top: 1rem;\r\n }\r\n/* 上部导航栏 */\r\n .su_tb{\r\n  width: 93%;\r\n  height: 3.3rem;\r\n  background: #000;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-radius: 0.4rem;\r\n  margin: 0.5rem auto 0 auto;\r\n  position: relative;\r\n  z-index: 10;\r\n }\r\n .hai{\r\n  color: #fff;\r\n  line-height: 3.5rem;\r\n  font-size: 0.91rem;\r\n  display: inline-block;\r\n }\r\n .su_hai{\r\n   margin-left: 1.5rem;\r\n } \r\n .su_imag{\r\n  width: 1rem;\r\n  height: 0.52rem; \r\n  margin-left: 0.5rem;\r\n }\r\n .su_xin{\r\n   width: 40%;\r\n }\r\n .hove_stf{\r\n  width: 5rem;\r\n  background-color:#000;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  position: absolute;\r\n  top: 3.2rem;\r\n  left: 3rem;\r\n  transition: all .2s linear;\r\n }\r\n .hove_stf>p{\r\n  margin: 1rem 0.3rem 0 0.7rem; \r\n  font-size: 0.91rem;\r\n  color: #fff;\r\n }\r\n .ctmd{\r\n   height:10rem;\r\n   overflow: hidden;\r\n   \r\n }\r\n .show{\r\n   height: 0;\r\n   overflow: hidden;\r\n   \r\n }\r\n .qn_img{\r\n  width: 0.65rem;\r\n  height: 0.75rem;\r\n  margin-right: 0.5rem;\r\n }\r\n .qn_you{\r\n  width: 28%; \r\n }\r\n/* 分类 */\r\n.en_yu{\r\n  width: 100%;\r\n  height: 3rem;\r\n  border-bottom: 0.02rem solid #e2e2e2;\r\n}\r\n.en_yu>span{\r\n  display: inline-block;\r\n  font-size: 0.91rem;\r\n  color: #999;\r\n  margin: 1.5rem 0.2rem 0 1rem;\r\n}\r\n.en_ctu{\r\n  width: 93%;\r\n  height: 6rem;\r\n  border-bottom: 0.02rem solid #e2e2e2;\r\n  margin: auto;\r\n  position: relative;\r\n}\r\n.en_img1{\r\n  height: 4rem; \r\n  margin-top: 1rem;\r\n}\r\n.en_heng{\r\n  position: absolute;\r\n  top: 1.5rem;\r\n  left: 5rem;\r\n}\r\n.en_ao{\r\n  font-size: 0.91rem; \r\n   \r\n}\r\n.gao{\r\n margin-bottom: 0.6rem; \r\n}\r\n.en_gao{\r\n  font-size: 0.6rem;\r\n  color: #a3a3a3;\r\n}\r\n.en_qian{\r\n  font-size: 0.8rem;\r\n  color: #f97a2e;\r\n}\r\n.en_img2{\r\n  width: 1.2rem;\r\n}\r\n.en_zong{\r\n  position: absolute;\r\n  top: 2rem;\r\n  right: 1.2rem;\r\n  width: 4.5rem;\r\n  height: 2.2rem;\r\n  border-radius:5rem;\r\n  background: #f3f3f3;\r\n  text-align: center;\r\n  line-height: 2.5rem;\r\n\r\n} \r\n</style>\r\n\r\n"]}]}