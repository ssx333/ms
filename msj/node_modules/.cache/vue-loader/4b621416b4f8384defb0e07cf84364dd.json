{"remainingRequest":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\11zui\\msj\\msj\\src\\components\\pages\\Cart.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\11zui\\msj\\msj\\src\\components\\pages\\Cart.vue","mtime":1564658967666},{"path":"E:\\11zui\\msj\\msj\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* 顶部导航的样式 */\r\n.van-nav-bar{\r\n\tbackground: black!important;\r\n}\r\n.van-nav-bar__title,.van-nav-bar__text,.van-nav-bar .van-icon{\r\n\tcolor:white!important;\r\n}\r\n\r\n\t/* 购物车内具体内容 */\r\n\t.msj_details {\r\n\t\twidth: 95%;\r\n\t\tbackground: #ffffff;\r\n\t\tmargin: 0.5rem auto 0.5rem auto;\r\n\t\tborder-top:1px solid #eee;\r\n\t\tborder-bottom:1px solid #eee;\r\n\t\tborder-radius: 1rem;\r\n\t}\r\n\r\n\t.msj_details_top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\theight: 4rem;\r\n\t}\r\n\r\n\t/* 具体内容中图片和介绍 */\r\n\t.msj_details_img {\r\n\t\tdisplay: flex;\r\n\t\twidth: 65%;\r\n\t}\r\n\r\n\t/* 大标题 */\r\n\t.msj_title {\r\n\t\tfont-size: 0.8rem;\r\n\t\tmargin: 0.5rem 0 0 1rem;\r\n\t}\r\n\r\n\t.msj_small {\r\n\t\tfont-size: 0.6rem;\r\n\t\tmargin: 0.5rem 0 0 1rem;\r\n\t}\r\n\r\n\t.msj_pic {\r\n\t\tcolor: #f97a2e;\r\n\t\tfont-size: 0.9rem;\r\n\t\tmargin: 0.5rem 0 0 1rem;\r\n\t}\r\n\r\n\t.msj_pic>span {\r\n\t\tfont-size: 0.7rem;\r\n\t}\r\n\r\n\t.msj_details_img>div>img {\r\n\t\theight: 4rem;\r\n\t}\r\n\r\n\t/* span 数字文本框的样式 */\r\n\t.msj_input {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 1.3rem;\r\n\t\theight: 1.3rem;\r\n\t\tline-height: 1.3rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.msj_details_choose> {\r\n\t\tline-height: 4rem;\r\n\t}\r\n\r\n\t/* 右边划出删除居中 */\r\n\t.van-swipe-cell__right {\r\n\t\tline-height: 4rem;\r\n\t}\r\n\r\n\t/* 加减数量居中 */\r\n\t.msj_delete_right {\r\n\t\tmargin-top: 1.3rem;\r\n\t}\r\n\r\n\t.msj_delete_right>span {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 1.3rem;\r\n\t\theight: 1.3rem;\r\n\t\tline-height: 1.3rem;\r\n\t\tbackground: #e76f2a;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 50%;\r\n\r\n\t}\r\n\r\n\t.msj_margin_top {\r\n\t\tmargin: 1rem 0;\r\n\t}\r\n\r\n\t.van-submit-bar {\r\n\t\tbottom: 3rem !important;\r\n\t}\r\n",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+MA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<van-nav-bar\r\n  title=\"购物车\"\r\n  fixed\r\n  @click-left=\"onClickLeft\"\r\n  \r\n/>\r\n<div style=\"width:100%;height:3rem\"></div>\r\n\t\t<!-- 购物车内容 -->\r\n\t\t<table></table>\r\n\t\t<div class=\"msj_details\">\r\n\t\t\t<van-swipe-cell v-for=\"(item,i) of cart \" :key=\"i\" class=\"msj_margin_top\">\r\n\r\n\t\t\t\t<div class=\"msj_details_top\">\r\n\t\t\t\t\t<!-- 前面的选择对勾 -->\r\n\t\t\t\t\t<van-checkbox v-model=\"item.x_is_checked\" checked-color=\"#07c160\" @click=\"cart_sit(!item.x_is_checked,item.x_id)\"></van-checkbox>\r\n\t\t\t\t\t<!-- 中间的内容部分 -->\r\n\t\t\t\t\t<div class=\"msj_details_img\">\r\n\t\t\t\t\t\t<div><img :src=\"item.x_img_url\" alt=\"\"></div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"msj_title\">{{item.x_title}}</div>\r\n\t\t\t\t\t\t\t<p class=\"msj_small\">{{item.x_name}}</p>\r\n\t\t\t\t\t\t\t<p class=\"msj_pic\"><span>￥</span>{{item.x_price.toFixed(2)}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- 右边数量选择 -->\r\n\t\t\t\t\t<div class=\"msj_delete_right\">\r\n\t\t\t\t\t\t<span @click=\"dianji(1,i,item.x_id)\">+</span>\r\n\t\t\t\t\t\t<i class=\"msj_input\">{{item.x_count}}</i>\r\n\t\t\t\t\t\t<span @click=\"dianji(-1,i,item.x_id)\">-</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<template slot=\"right\" class=\"msj_delete_right\">\r\n\t\t\t\t\t<van-button type=\"danger\" text=\"删除\" size=\"small\" round @click=\"delete_list(i,item.x_id)\" />\r\n\t\t\t\t</template>\r\n\t\t\t</van-swipe-cell>\r\n\r\n\t\t</div>\r\n\t\t<table></table>\r\n\t\t<div style=\"width: 100%;height:6rem;\"></div>\r\n\t\t<van-submit-bar :price=\"total\" button-text=\"去结算\" @submit=\"router_link\">\r\n\t\t\t<van-checkbox v-model=\"checkbox\" @click=\"chock()\">全选</van-checkbox>\r\n\t\t</van-submit-bar>\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Vue from \"vue\"\r\n\timport {\r\n\t\tSwipeCell,\r\n\t\tButton,\r\n\t\tCell,\r\n\t\tCellGroup,\r\n\t\tCheckbox,\r\n\t\tCheckboxGroup,\r\n\t\tSubmitBar,\r\n\t\tDialog,\r\n\t\tToast\r\n\t} from 'vant';\r\n\r\n\tVue.use(Cell).use(CellGroup).use(Button).use(SwipeCell).use(Checkbox).use(CheckboxGroup).use(SubmitBar).use(Toast);\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcheckbox: false,\r\n\t\t\t\tlist: {},\r\n\t\t\t\tcart: [],\r\n\t\t\t\tsum:0,\r\n\t\t\t\tstt:''\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tcart_sit(m,n){\r\n\t\t\t\tif(m==true){\r\n\t\t\t\t\tm=1\r\n\t\t\t\t}else{\r\n\t\t\t\t\tm=0\r\n\t\t\t\t}\r\n\t\t\t\tthis.axios.get('http://127.0.0.1:3000/cart_sit',{params:{x_default:m,id:n}}).then(res=>{\r\n      \t\t\t}).catch(err=>{\r\n\t\t\t\t\t  console.log(err)\r\n\t\t\t\t  })\r\n\t\t\t},\r\n\t\t\tonClickLeft(){\r\n\t\t\t},\r\n\t\t\trouter_link(){\r\n\t\t\t\t// 遍历保存当前勾选的商品并将信息传到下一个页面\r\n\t\t\t\tvar str=0;\r\n\t\t\t\tfor (var num of this.cart) {\r\n\t\t\t\t\t// 判断是否没有选中商品,没有的化不会往下一步进行\r\n\t\t\t\t\tif(num.x_is_checked==true){\r\n\t\t\t\t\t\t// this.carts.push(num)\r\n\t\t\t\t\t\tthis.$router.push({path:'/addressList'});\r\n\t\t\t\t\t\t// sessionStorage.setItem(\"cart\",this.carts.join(''))\r\n\t\t\t\t\t\tstr+=num.x_price\r\n\t\t\t\t\t\t// 将数据插入到vuex 中\r\n\t\t\t\t\t\t// 通知数据仓库添加到数据仓库\r\n\t\t\t\t\t\tthis.$store.commit(\"add\",num)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t// 没有选中商品进行提示\t\r\n\t\t\t\t\tif(this.stt==null){\r\n\t\t\t\t\t\t\tDialog.confirm({\r\n\t\t\t\t\t\t\ttitle: '未登录',\r\n\t\t\t\t\t\t\tmessage: '是否去登录'\r\n\t\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\t// on confirm\r\n\t\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\t// on cancel\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(str==0){\r\n\t\t\t\t\t\t\tToast('请选中要购买的商品')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n        \t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tdianji: function(e, m,id) {\r\n\t\t\t\t// 判断数量最小值为1 然后根据传入的数字进行数量加减\r\n\t\t\t\tif (this.cart[m].x_count > 1 || e > 0) {\r\n\t\t\t\t\tthis.cart[m].x_count += e\r\n\t\t\t\t\tvar x_count=this.cart[m].x_count\r\n\t\t\tthis.axios.get('http://127.0.0.1:3000/cart_num',{params:{x_count:x_count,id:id}}).then(res=>{\r\n      \t\t\t}).catch(err=>{\r\n\t\t\t\t\t  console.log(err)\r\n\t\t\t\t  })\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchock() {\r\n\t\t\t\tfor (var p of this.cart) {\r\n\t\t\t\t\tp. x_is_checked= !this.checkbox\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tdelete_list(e,id) {\r\n\t\t\t\tDialog.confirm({\r\n\t\t\t\t\tmessage: '移出购物车'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\t// on confirm\r\n\t\t\t\t\tthis.cart.splice(e, 1)\r\n\t\t\t\t\tthis.axios.get('http://127.0.0.1:3000/cart_del',{params:{id:id}}).then(res=>{\r\n         \t\t\tif(res.data.code){\r\n\t\t\t\t\t\t \r\n         \t\t\t \t}\r\n      \t\t\t\t})\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t// on cancel\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttotal() {\r\n\t\t\t\tvar sum = 0;\r\n\t\t\t\tfor (var p of this.cart) {\r\n\t\t\t\t\tif (p.x_is_checked == false) {\r\n\t\t\t\t\t\tthis.checkbox= false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (p.x_is_checked == true) {\r\n\t\t\t\t\t\tsum += p.x_price * p.x_count;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn sum * 100;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\t// 页面打开时加载购物车数据\r\n\t\t\t// 页面加载的时候判断是否登录获取id值,然后根据id值请求数据\r\n\t\t\t// if(){}else{\r\n\t\t\t\t// 弹出登录要求,然后跳转页面\r\n\r\n\t\t\t// }\r\n\t\t\t// localStorage.getItem(key)\r\n\t\t\t\r\n\t\tthis.stt=window.sessionStorage.getItem('sid');\r\n\t\tconsole.log(this.stt)\r\n\t\tif(this.stt==null){\r\n\t\t\tconsole.log(123)\r\n\t\t\tDialog.confirm({\r\n\t\t\ttitle: '未登录',\r\n\t\t\tmessage: '是否去登录'\r\n\t\t\t}).then(() => {\r\n\t\t\t this.$router.push('/login');\r\n\t\t\t}).catch(() => {\r\n\t\t\t// on cancel\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t// 登录后查询stt的id下的购物车\r\n\t\tthis.axios.get('http://127.0.0.1:3000/cart',{params:{id:this.stt}}).then(res=>{\r\n\t\tthis.cart=res.data\r\n\t\tthis.cart.checked=res.data.x_is_checked\r\n      })\r\n\t\t}\r\n\t\t\t\r\n\t\r\n\t\t},\r\n\t}\r\n</script>\r\n<style>\r\n/* 顶部导航的样式 */\r\n.van-nav-bar{\r\n\tbackground: black!important;\r\n}\r\n.van-nav-bar__title,.van-nav-bar__text,.van-nav-bar .van-icon{\r\n\tcolor:white!important;\r\n}\r\n\r\n\t/* 购物车内具体内容 */\r\n\t.msj_details {\r\n\t\twidth: 95%;\r\n\t\tbackground: #ffffff;\r\n\t\tmargin: 0.5rem auto 0.5rem auto;\r\n\t\tborder-top:1px solid #eee;\r\n\t\tborder-bottom:1px solid #eee;\r\n\t\tborder-radius: 1rem;\r\n\t}\r\n\r\n\t.msj_details_top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\theight: 4rem;\r\n\t}\r\n\r\n\t/* 具体内容中图片和介绍 */\r\n\t.msj_details_img {\r\n\t\tdisplay: flex;\r\n\t\twidth: 65%;\r\n\t}\r\n\r\n\t/* 大标题 */\r\n\t.msj_title {\r\n\t\tfont-size: 0.8rem;\r\n\t\tmargin: 0.5rem 0 0 1rem;\r\n\t}\r\n\r\n\t.msj_small {\r\n\t\tfont-size: 0.6rem;\r\n\t\tmargin: 0.5rem 0 0 1rem;\r\n\t}\r\n\r\n\t.msj_pic {\r\n\t\tcolor: #f97a2e;\r\n\t\tfont-size: 0.9rem;\r\n\t\tmargin: 0.5rem 0 0 1rem;\r\n\t}\r\n\r\n\t.msj_pic>span {\r\n\t\tfont-size: 0.7rem;\r\n\t}\r\n\r\n\t.msj_details_img>div>img {\r\n\t\theight: 4rem;\r\n\t}\r\n\r\n\t/* span 数字文本框的样式 */\r\n\t.msj_input {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 1.3rem;\r\n\t\theight: 1.3rem;\r\n\t\tline-height: 1.3rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.msj_details_choose> {\r\n\t\tline-height: 4rem;\r\n\t}\r\n\r\n\t/* 右边划出删除居中 */\r\n\t.van-swipe-cell__right {\r\n\t\tline-height: 4rem;\r\n\t}\r\n\r\n\t/* 加减数量居中 */\r\n\t.msj_delete_right {\r\n\t\tmargin-top: 1.3rem;\r\n\t}\r\n\r\n\t.msj_delete_right>span {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 1.3rem;\r\n\t\theight: 1.3rem;\r\n\t\tline-height: 1.3rem;\r\n\t\tbackground: #e76f2a;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 50%;\r\n\r\n\t}\r\n\r\n\t.msj_margin_top {\r\n\t\tmargin: 1rem 0;\r\n\t}\r\n\r\n\t.van-submit-bar {\r\n\t\tbottom: 3rem !important;\r\n\t}\r\n</style>\r\n"]}]}