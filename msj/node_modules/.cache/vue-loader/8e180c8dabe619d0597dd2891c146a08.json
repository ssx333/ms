{"remainingRequest":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\11zui\\msj\\msj\\src\\components\\views\\add\\addressList.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\11zui\\msj\\msj\\src\\components\\views\\add\\addressList.vue","mtime":1564532845763},{"path":"E:\\11zui\\msj\\msj\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n\r\nbody {\r\n  background: #eee;\r\n}\r\n.address {\r\n  padding: 10px;\r\n  background: #fff;\r\n  line-height: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.van-address-list__add{\r\n  bottom: 3rem!important;\r\n}\r\n.msj_address{\r\n  padding:10px;background-color:white;color:grey;border-bottom:1px dashed #eee;\r\n}\r\n",{"version":3,"sources":["addressList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addressList.vue","sourceRoot":"src/components/views/add","sourcesContent":["<template>\r\n  <div>\r\n    <div v-show=\"showState==0\">\r\n      <van-nav-bar title=\"确认订单\"  left-arrow @click-left=\"$router.go(-1)\" />\r\n      <div class=\"msj_address\">收货地址:</div>\r\n      <div class=\"address\" @click=\"showState=1\">\r\n        <div>\r\n          <div>{{currentAddress.name}} {{currentAddress.tel}}</div>\r\n          <div>{{currentAddress.address}}</div>\r\n        </div>\r\n        <van-icon name=\"arrow\" />\r\n      </div>\r\n    </div>\r\n  <!-- 选择地址 -->\r\n    <div v-show=\"showState==1\">\r\n      <van-nav-bar title=\"选择地址\"  left-arrow @click-left=\"showState=0\" />\r\n      <van-address-list\r\n       v-model=\"chosenAddressId\"\r\n        :list=\"list\"\r\n        @click=\"showState=2\"\r\n        @add=\"onAdd\"\r\n        @edit=\"onEdit\"\r\n        @select=\"selectaddress\"\r\n        \r\n      />\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { NavBar, Icon, AddressList,AddressEdit } from \"vant\";\r\nVue.use(NavBar)\r\n  .use(Icon)\r\n  .use(AddressList)\r\n  .use(AddressEdit);\r\nexport default {\r\n  data(){\r\n    return{\r\n      showState:0,\r\n      chosenAddressId:\"1\",\r\n      currentAddress:\"\",\r\n      list:[],\r\n    }\r\n  },\r\n  methods:{\r\n    onAdd(){\r\n      // 添加地址触发的事件\r\n      this.$router.push('/addressEdit')\r\n    },\r\n    onEdit(item,index){\r\n      // console.log(item)\r\n      // console.log(index)\r\n      // 修改地址触发的事件\r\n      // 传过去数据id值\r\nthis.$router.push({path:'/addressEdits',query:{id:item.id}});\r\n    },\r\n    selectaddress(item,index){\r\n      this.showState=0\r\n      this.currentAddress = item\r\n    },\r\n    // 定义一个事件,在页面加载的时候调用这个事件\r\n    ondown(){\r\n        this.axios.get('http://127.0.0.1:3000/addresslist').then(res=>{\r\n         for(var p of res.data){\r\n        if(p.l_default==true){\r\n          // 刚加载时默认将默认地址为第一位\r\n        this.currentAddress={\r\n        id:p.l_id,\r\n        name:p.l_name,\r\n        tel:p.l_phone,\r\n        address:p.l_provinces+p.l_city+p.l_area+p.l_det_address\r\n        }\r\n        };\r\n        // 将请求下来的数据加载到list 的列表上去\r\n        this.list.push({\r\n        id:p.l_id,\r\n        name:p.l_name,\r\n        tel:p.l_phone,\r\n        address:p.l_provinces+p.l_city+p.l_area+p.l_det_address\r\n      })\r\n      }  \r\n        }).catch(err=>{\r\n          console.log(err)\r\n        })\r\n    },\r\n\r\n  },\r\n  created(){\r\n    this.ondown()\r\n  },\r\n\r\n  // 最外面一层\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\nbody {\r\n  background: #eee;\r\n}\r\n.address {\r\n  padding: 10px;\r\n  background: #fff;\r\n  line-height: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.van-address-list__add{\r\n  bottom: 3rem!important;\r\n}\r\n.msj_address{\r\n  padding:10px;background-color:white;color:grey;border-bottom:1px dashed #eee;\r\n}\r\n</style>\r\n\r\n\r\n"]}]}