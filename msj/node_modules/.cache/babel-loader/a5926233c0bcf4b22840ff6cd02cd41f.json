{"remainingRequest":"E:\\11zui\\msj\\msj\\node_modules\\babel-loader\\lib\\index.js!E:\\11zui\\msj\\msj\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\11zui\\msj\\msj\\src\\components\\views\\add\\addressList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\11zui\\msj\\msj\\src\\components\\views\\add\\addressList.vue","mtime":1564658967681},{"path":"E:\\11zui\\msj\\msj\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\11zui\\msj\\msj\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/address-list/style\";\nimport _AddressList from \"vant/es/address-list\";\nimport \"vant/es/address-edit/style\";\nimport _AddressEdit from \"vant/es/address-edit\";\nimport \"vant/es/card/style\";\nimport _Card from \"vant/es/card\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nVue.use(_NavBar).use(_Icon).use(_AddressList).use(_AddressEdit).use(_Card);\nexport default {\n  data: function data() {\n    return {\n      showState: 0,\n      chosenAddressId: 1,\n      currentAddress: \"\",\n      list: [],\n      carts: [],\n      num: []\n    };\n  },\n  methods: {\n    click_left: function click_left() {\n      this.$router.go(-1); // 返回时清空添加到vuex中的数据局\n\n      this.$store.commit(\"delete\");\n    },\n    onSubmit: function onSubmit() {},\n    onAdd: function onAdd() {\n      // 添加地址触发的事件\n      this.$router.push('/addressEdit');\n    },\n    onEdit: function onEdit(item, index) {\n      // 修改地址触发的事件\n      // 传过去数据id值\n      this.$router.push({\n        path: '/addressEdits',\n        query: {\n          id: item.id\n        }\n      });\n    },\n    selectaddress: function selectaddress(item, index) {\n      this.showState = 0;\n      this.currentAddress = item;\n    },\n    // 定义一个事件,在页面加载的时候调用这个事件\n    ondown: function ondown() {\n      var _this = this;\n\n      this.axios.get('http://127.0.0.1:3000/addresslist').then(function (res) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = res.data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var p = _step.value;\n\n            if (p.l_default == true) {\n              // 刚加载时默认将默认地址为第一位\n              _this.chosenAddressId = p.l_id, _this.currentAddress = {\n                id: p.l_id,\n                name: p.l_name,\n                tel: p.l_phone,\n                address: p.l_provinces + p.l_city + p.l_area + p.l_det_address\n              };\n            }\n\n            ; // 将请求下来的数据加载到list 的列表上去\n\n            _this.list.push({\n              id: p.l_id,\n              name: p.l_name,\n              tel: p.l_phone,\n              address: p.l_provinces + p.l_city + p.l_area + p.l_det_address\n            });\n\n            var stt = sessionStorage.getItem(\"cart\");\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  },\n  created: function created() {\n    this.ondown(); // 页面加载时从vuex中拿数据\n\n    this.carts = this.$store.getters.cart;\n  },\n  computed: {\n    amount: function amount() {\n      var amount = 0;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.carts[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var p = _step2.value;\n          amount += p.x_price * p.x_count;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return amount * 100;\n    }\n  } // 最外面一层\n\n};",{"version":3,"sources":["addressList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div v-show=\"showState==0\">\r\n      <van-nav-bar title=\"确认订单\" fixed left-arrow @click-left=\"click_left\" />\r\n      <div style=\"width:100%;height:3rem;\"></div>\r\n      <div class=\"msj_address\">收货地址:</div>\r\n      <div class=\"address\" @click=\"showState=1\">\r\n        <div class=\"msj_address_list\">\r\n          <div>{{currentAddress.name}} {{currentAddress.tel}}</div>\r\n          <div>{{currentAddress.address}}</div>\r\n        </div>\r\n        <van-icon name=\"arrow\" />\r\n      </div>\r\n    </div>\r\n  <!-- 选择地址 -->\r\n    <div v-show=\"showState==1\">\r\n      <van-nav-bar title=\"选择地址\" fixed  left-arrow @click-left=\"showState=0\" />\r\n      <div style=\"width:100%;height:3rem;\"></div>\r\n      <van-address-list\r\n       v-model=\"chosenAddressId\"\r\n        :list=\"list\"\r\n        @click=\"showState=2\"\r\n        @add=\"onAdd\"\r\n        @edit=\"onEdit\"\r\n        @select=\"selectaddress\"\r\n        \r\n      />\r\n    </div>\r\n    <div v-show=\"showState==0\" style=\"margin-top:0.5rem;\">\r\n      <div style=\"background:#eee;padding:0.5rem 0.5rem\">商品详情</div>\r\n    <div style=\"overflow-x: hidden;\r\n        overflow-y: scroll;\">\r\n    <van-card\r\n      :num=\"item.x_count\"\r\n      :price=\"item.x_price\"\r\n      :desc=\"item.x_name\"  \r\n      :title=\"item.x_title\"\r\n      :thumb=\"item.x_img_url\"\r\n      v-for=\"(item,i) of carts\" :key=\"i\"\r\n    />\r\n    <div style=\"width:100%;height:6rem;\"></div>\r\n    </div>\r\n</div>\r\n  <div v-show=\"showState==0\">\r\n    <van-submit-bar\r\n  :price=\"amount\"\r\n  button-text=\"提交订单\"\r\n  @submit=\"onSubmit\"\r\n/>\r\n  </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { NavBar, Icon, AddressList,AddressEdit,Card } from \"vant\";\r\nVue.use(NavBar)\r\n  .use(Icon)\r\n  .use(AddressList)\r\n  .use(AddressEdit)\r\n  .use(Card);\r\nexport default {\r\n  data(){\r\n    return{\r\n      showState:0,\r\n      chosenAddressId:1,\r\n      currentAddress:\"\",\r\n      list:[],\r\n      carts:[],\r\n      num:[]\r\n      \r\n    }\r\n  },\r\n  methods:{\r\n    click_left(){\r\n        this.$router.go(-1)\r\n        // 返回时清空添加到vuex中的数据局\r\n        this.$store.commit(\"delete\")\r\n    },\r\n    onSubmit(){\r\n\r\n    },\r\n    onAdd(){\r\n      // 添加地址触发的事件\r\n      this.$router.push('/addressEdit')\r\n      \r\n    },\r\n    onEdit(item,index){\r\n      // 修改地址触发的事件\r\n      // 传过去数据id值\r\n    this.$router.push({path:'/addressEdits',query:{id:item.id}});\r\n    },\r\n    selectaddress(item,index){\r\n      this.showState=0\r\n      this.currentAddress = item\r\n    },\r\n    // 定义一个事件,在页面加载的时候调用这个事件\r\n    ondown(){\r\n        this.axios.get('http://127.0.0.1:3000/addresslist').then(res=>{\r\n         for(var p of res.data){\r\n        if(p.l_default==true){\r\n          // 刚加载时默认将默认地址为第一位\r\n        this.chosenAddressId=p.l_id,\r\n        this.currentAddress={\r\n        id:p.l_id,\r\n        name:p.l_name,\r\n        tel:p.l_phone,\r\n        address:p.l_provinces+p.l_city+p.l_area+p.l_det_address\r\n        }\r\n        };\r\n        // 将请求下来的数据加载到list 的列表上去\r\n        this.list.push({\r\n        id:p.l_id,\r\n        name:p.l_name,\r\n        tel:p.l_phone,\r\n        address:p.l_provinces+p.l_city+p.l_area+p.l_det_address\r\n        \r\n      })\r\n      var stt=sessionStorage.getItem(\"cart\")\r\n      }  \r\n        }).catch(err=>{\r\n          console.log(err)\r\n        })\r\n    },\r\n\r\n  },\r\n  created(){\r\n    this.ondown();\r\n    // 页面加载时从vuex中拿数据\r\n    this.carts=this.$store.getters.cart\r\n  },\r\n  computed:{\r\n      amount() {\r\n        var amount=0;\r\n        for (var p of this.carts) {\r\n          amount+=p.x_price * p.x_count;\r\n        }\r\n      return amount*100;\r\n    } \r\n  },\r\n\r\n  // 最外面一层\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.msj_address_list>div{\r\n  padding:0.8rem 0;\r\n}\r\nbody {\r\n  background: #eee;\r\n}\r\n.address {\r\n  padding: 0.3rem;\r\n  background: #fff;\r\n  /* line-height:; */\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.van-address-list__add{\r\n  bottom: 3rem!important;\r\n}\r\n.msj_address{\r\n  padding:0.3rem;background-color:white;color:grey;border-bottom:1px dashed #eee;\r\n}\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/components/views/add"}]}